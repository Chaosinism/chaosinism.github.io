<!DOCTYPE html>
<html class="no-js" lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>MIDI五线谱可视化——自制Vegas脚本 - 临时个人主页</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<meta property="og:title" content="MIDI五线谱可视化——自制Vegas脚本" />
<meta property="og:description" content="自制的Vegas脚本，用于MIDI可视化。

（原始投稿地址：https://www.bilibili.com/read/cv1027442 ）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/script-score/" />
<meta property="article:published_time" content="2019-08-09T03:57:34-04:00" />
<meta property="article:modified_time" content="2019-08-09T03:57:34-04:00" />

	
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	
	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-145442293-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo">
			<a class="logo__link" href="/" title="临时个人主页" rel="home">
				<div class="logo__title">临时个人主页</div>
				
				
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-145442293-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

			</a>
		</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/posts/about-me/">关于我</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/posts/tiny-games/">在线小游戏</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/posts/homemade/">自制资源汇总</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/posts/website-list/">资源网站汇总</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/posts/tool-list/">软件与工具汇总</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MIDI五线谱可视化——自制Vegas脚本</h1>
			
		</header>
<div class="post__toc toc">
	<div class="toc__title">Page content</div>
	<div class="toc__menu">
		<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#基本信息">基本信息</a></li>
<li><a href="#动机与背景">动机与背景</a></li>
<li><a href="#使用说明">使用说明</a>
<ul>
<li>
<ul>
<li><a href="#安装方法">安装方法</a></li>
<li><a href="#使用方法">使用方法</a></li>
</ul></li>
</ul></li>
<li><a href="#参考与致谢">参考与致谢</a></li>
</ul></li>
</ul>
</nav>
	</div>
</div>
<div class="content post__content clearfix">
			<p>自制的Vegas脚本，用于MIDI可视化。</p>

<p>（原始投稿地址：<a href="https://www.bilibili.com/read/cv1027442">https://www.bilibili.com/read/cv1027442</a> ）</p>

<h2 id="基本信息">基本信息</h2>

<ul>
<li>脚本功能：以自定义图案为音符，画出MIDI文件的五线谱。</li>
<li>源码地址：<a href="https://github.com/Chaosinism/vegas_scripts">https://github.com/Chaosinism/vegas_scripts</a></li>
<li>下载地址：<a href="https://github.com/Chaosinism/vegas_scripts/releases">https://github.com/Chaosinism/vegas_scripts/releases</a></li>
<li>适用环境：Windows, Sony Vegas Pro 13以上</li>
</ul>

<h2 id="动机与背景">动机与背景</h2>

<p><center><figure>
    <img src="1.jpg"
         alt="使用效果" width="500px"/> <figcaption>
            <p>使用效果</p>
        </figcaption>
</figure>
</center>
在视频<a href="https://www.bilibili.com/video/av30077020/">【组曲】芳文社Mashup</a>中，我模仿Youtube上的视频作者grantwoolard制作画面效果。他的特色是使用音乐家的头像画出音频的五线谱。</p>

<p><center><figure>
    <img src="2.png"
         alt="Classical Music Mashup, by grantwoolard" width="500px"/> <figcaption>
            <p>Classical Music Mashup, by grantwoolard</p>
        </figcaption>
</figure>
</center>
我没有查到他是如何制作的，于是自己写了一个Vegas脚本，可以根据MIDI文件和自定义的图像文件来制造出这种效果。</p>

<h2 id="使用说明">使用说明</h2>

<p>以下陈述脚本的安装与使用方法。</p>

<h4 id="安装方法">安装方法</h4>

<ul>
<li>在 <a href="https://github.com/Chaosinism/vegas_scripts/releases">https://github.com/Chaosinism/vegas_scripts/releases</a> 下载脚本，Vegas 13的用户请下载staff_visualizer_vegas13.zip，Vegas 14、15和16的用户请下载staff_visualizer_vegas1415.zip。</li>
<li>下载zip文件后解压，确保DLL/NAudio.dll未处于锁定状态。否则，在右键-【属性】中点击【解除锁定】。</li>
</ul>

<p><center><figure>
    <img src="3.png"
         alt="解除DLL文件锁定" width="300px"/> <figcaption>
            <p>解除DLL文件锁定</p>
        </figcaption>
</figure>
</center>
- 将所有文件拷贝至C:\Program Files\Sony\Vegas Pro XX\Script Menu，其中“XX”为Vegas版本号，如“13.0”、“14.0”等。</p>

<h4 id="使用方法">使用方法</h4>

<ul>
<li>使用Vegas菜单中的【工具】-【脚本化】-【staff_visualizer】来启动脚本。</li>
<li>按对话框提示，选择一个MIDI文件，与一个作为音符的图像文件（图片和视频皆可，只要是Vegas支持的格式）。</li>
</ul>

<p><center><figure>
    <img src="5.png"
         alt="脚本所需的输入" width="300px"/> <figcaption>
            <p>脚本所需的输入</p>
        </figcaption>
</figure>
</center>
- 在新对话框中调整选项。例如，如果要在下图中红色区域插入五线谱，则各参数的意义如图所示。</p>

<p><center><figure>
    <img src="6.png" width="500px"/>
</figure>
</center>
<center><figure>
    <img src="7.png"
         alt="选项示意图" width="500px"/> <figcaption>
            <p>选项示意图</p>
        </figcaption>
</figure>
</center>
- 点击完成，Vegas将自动生成数个视频轨道，效果如图。</p>

<p><center><figure>
    <img src="8.png"
         alt="输出示意图（屏幕）" width="500px"/> <figcaption>
            <p>输出示意图（屏幕）</p>
        </figcaption>
</figure>
</center>
<center><figure>
    <img src="9.png"
         alt="输出示意图（轨道）" width="500px"/> <figcaption>
            <p>输出示意图（轨道）</p>
        </figcaption>
</figure>
</center></p>

<h2 id="参考与致谢">参考与致谢</h2>

<ul>
<li><a href="https://github.com/evankale/VegasScripts">https://github.com/evankale/VegasScripts</a></li>
<li><a href="https://github.com/naudio/NAudio">https://github.com/naudio/NAudio</a></li>
</ul>
		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link btn" href="/tags/vegas/" rel="tag">Vegas</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/c/" rel="tag">C#</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/%E8%BD%AF%E4%BB%B6%E8%84%9A%E6%9C%AC/" rel="tag">软件脚本</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/midi/" rel="tag">MIDI</a></li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="post-nav flex">
	<div class="post-nav__item post-nav__item--prev">
		<a class="post-nav__link" href="/posts/script-otomad/" rel="prev"><span class="post-nav__caption">«&thinsp;Previous</span><p class="post-nav__post-title">音MAD助手——自制Vegas脚本</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next">
		<a class="post-nav__link" href="/posts/kinect-mmd/" rel="next"><span class="post-nav__caption">Next&thinsp;»</span><p class="post-nav__post-title">Kinect v2与MMD动作捕捉</p></a>
	</div>
</nav>
  <h2>评论</h2>
  
  
  

  
    
  
    
  
    
  

  
    <p>目前尚未有留言。</p>
  




<form method="POST" action="https://staticman3.herokuapp.com/v2/entry/Chaosinism/chaosinism.github.io/master/comments">
    <input type="hidden" name="options[redirect]" value="https://chaosinism.github.io">
    <input type="hidden" name="options[slug]" value="script-score">
    <input type="hidden" name="options[parent]" value="script-score">
    <input name="fields[name]" type="text" placeholder="昵称（必填）">
    <input name="fields[email]" type="email" placeholder="邮箱（选填）">
    <textarea name="fields[message]" placeholder="请输入留言内容（支持Markdown语法）。留言经博主审核后显示在网页上，此外可在本站Github仓库检查已提交的留言。" rows="10"></textarea>
    <input type="submit" value="提交">
  </form>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2019 临时个人主页.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script></body>
</html>